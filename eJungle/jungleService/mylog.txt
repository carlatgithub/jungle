2014-01-08 16:33:11,779 INFO Thread-0 org.hibernate.impl.SessionFactoryImpl - closing
2014-01-09 09:19:12,146 INFO main org.springframework.test.context.TestContextManager - @TestExecutionListeners is not present for class [class fr.afcepf.atod19.ecommerce.jungle.test.TestDao]: using defaults.
2014-01-09 09:19:12,431 INFO main org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [springContext.xml]
2014-01-09 09:19:12,872 INFO main org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [dataSource.xml]
2014-01-09 09:19:12,935 INFO main org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [jpa.xml]
2014-01-09 09:19:13,053 INFO main org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2014-01-09 09:19:13,258 INFO main org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@331f9cee: startup date [Thu Jan 09 09:19:13 CET 2014]; root of context hierarchy
2014-01-09 09:19:13,385 INFO main org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2014-01-09 09:19:13,497 INFO main org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@71ac4afb: defining beans [myDataSource,myEmf,txManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor#0,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,daoClientImpl,daoCommandeImpl,daoLivreImpl,gestionCatalogue,gestionClient,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy
2014-01-09 09:19:13,577 INFO main org.springframework.jdbc.datasource.DriverManagerDataSource - Loaded JDBC driver: com.mysql.jdbc.Driver
2014-01-09 09:19:13,670 INFO main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'myPersistenceUnit'
2014-01-09 09:19:13,777 INFO main org.hibernate.cfg.annotations.Version - Hibernate Annotations 3.5.1-Final
2014-01-09 09:19:13,792 INFO main org.hibernate.cfg.Environment - Hibernate 3.5.1-Final
2014-01-09 09:19:13,794 INFO main org.hibernate.cfg.Environment - hibernate.properties not found
2014-01-09 09:19:13,831 INFO main org.hibernate.cfg.Environment - Bytecode provider name : javassist
2014-01-09 09:19:13,835 INFO main org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling
2014-01-09 09:19:13,948 INFO main org.hibernate.annotations.common.Version - Hibernate Commons Annotations 3.2.0.Final
2014-01-09 09:19:13,955 INFO main org.hibernate.ejb.Version - Hibernate EntityManager 3.5.1-Final
2014-01-09 09:19:13,974 INFO main org.hibernate.ejb.Ejb3Configuration - Processing PersistenceUnitInfo [
	name: myPersistenceUnit
	...]
2014-01-09 09:19:14,156 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.Adresse
2014-01-09 09:19:14,209 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.Adresse on table Adresse
2014-01-09 09:19:14,291 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.User
2014-01-09 09:19:14,291 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.User on table User
2014-01-09 09:19:14,292 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.ImageLivre
2014-01-09 09:19:14,293 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.ImageLivre on table ImageLivre
2014-01-09 09:19:14,306 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.Commande
2014-01-09 09:19:14,306 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.Commande on table Commande
2014-01-09 09:19:14,316 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.Categorie
2014-01-09 09:19:14,317 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.Categorie on table Categorie
2014-01-09 09:19:14,319 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.Auteur
2014-01-09 09:19:14,319 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.Auteur on table Auteur
2014-01-09 09:19:14,324 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.Editeur
2014-01-09 09:19:14,324 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.Editeur on table Editeur
2014-01-09 09:19:14,326 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.Livre
2014-01-09 09:19:14,326 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.Livre on table Livre
2014-01-09 09:19:14,334 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.Client
2014-01-09 09:19:14,335 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.Client on table Client
2014-01-09 09:19:14,349 INFO main org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: fr.afcepf.atod19.ecommerce.jungle.entity.LigneCommande
2014-01-09 09:19:14,350 INFO main org.hibernate.cfg.annotations.EntityBinder - Bind entity fr.afcepf.atod19.ecommerce.jungle.entity.LigneCommande on table LigneCommande
2014-01-09 09:19:14,424 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: fr.afcepf.atod19.ecommerce.jungle.entity.Adresse.clients -> Client
2014-01-09 09:19:14,424 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: fr.afcepf.atod19.ecommerce.jungle.entity.Adresse.editeurs -> Editeur
2014-01-09 09:19:14,424 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: fr.afcepf.atod19.ecommerce.jungle.entity.Commande.lignesCommande -> LigneCommande
2014-01-09 09:19:14,424 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: fr.afcepf.atod19.ecommerce.jungle.entity.Categorie.livres -> Livre
2014-01-09 09:19:14,425 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: fr.afcepf.atod19.ecommerce.jungle.entity.Editeur.livres -> Livre
2014-01-09 09:19:14,425 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: fr.afcepf.atod19.ecommerce.jungle.entity.Livre.imagesLivre -> ImageLivre
2014-01-09 09:19:14,425 INFO main org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: fr.afcepf.atod19.ecommerce.jungle.entity.Client.commandes -> Commande
2014-01-09 09:19:14,426 INFO main org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring
2014-01-09 09:19:14,464 INFO main org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.
2014-01-09 09:19:14,474 INFO main org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2014-01-09 09:19:14,480 INFO main org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider - Using provided datasource
2014-01-09 09:19:14,845 INFO main org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.1.31-community
2014-01-09 09:19:14,845 INFO main org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.24 ( Revision: ${bzr.revision-id} )
2014-01-09 09:19:14,871 INFO main org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2014-01-09 09:19:14,881 INFO main org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2014-01-09 09:19:14,882 INFO main org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2014-01-09 09:19:14,882 INFO main org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2014-01-09 09:19:14,882 INFO main org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2014-01-09 09:19:14,883 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2014-01-09 09:19:14,883 INFO main org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2014-01-09 09:19:14,883 INFO main org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2014-01-09 09:19:14,883 INFO main org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2014-01-09 09:19:14,883 INFO main org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2014-01-09 09:19:14,884 INFO main org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2
2014-01-09 09:19:14,884 INFO main org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2014-01-09 09:19:14,884 INFO main org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2014-01-09 09:19:14,884 INFO main org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2014-01-09 09:19:14,884 INFO main org.hibernate.cfg.SettingsFactory - Order SQL inserts for batching: disabled
2014-01-09 09:19:14,884 INFO main org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2014-01-09 09:19:14,887 INFO main org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2014-01-09 09:19:14,887 INFO main org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2014-01-09 09:19:14,887 INFO main org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2014-01-09 09:19:14,887 INFO main org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2014-01-09 09:19:14,887 INFO main org.hibernate.cfg.SettingsFactory - Query cache: disabled
2014-01-09 09:19:14,887 INFO main org.hibernate.cfg.SettingsFactory - Cache region factory : org.hibernate.cache.impl.NoCachingRegionFactory
2014-01-09 09:19:14,887 INFO main org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2014-01-09 09:19:14,887 INFO main org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2014-01-09 09:19:14,893 INFO main org.hibernate.cfg.SettingsFactory - Statistics: disabled
2014-01-09 09:19:14,893 INFO main org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2014-01-09 09:19:14,893 INFO main org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2014-01-09 09:19:14,894 INFO main org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2014-01-09 09:19:14,894 INFO main org.hibernate.cfg.SettingsFactory - Check Nullability in Core (should be disabled when Bean Validation is on): enabled
2014-01-09 09:19:14,967 INFO main org.hibernate.impl.SessionFactoryImpl - building session factory
2014-01-09 09:19:15,205 INFO main org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2014-01-09 09:19:15,211 INFO main org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update
2014-01-09 09:19:15,212 INFO main org.hibernate.tool.hbm2ddl.SchemaUpdate - fetching database metadata
2014-01-09 09:19:15,228 INFO main org.hibernate.tool.hbm2ddl.SchemaUpdate - updating schema
2014-01-09 09:19:15,279 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.adresse
2014-01-09 09:19:15,279 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, numeroderue, codepostal, rue, ville]
2014-01-09 09:19:15,279 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-01-09 09:19:15,279 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-01-09 09:19:15,315 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.auteur
2014-01-09 09:19:15,315 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [prenom, id, nom]
2014-01-09 09:19:15,315 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-01-09 09:19:15,315 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-01-09 09:19:15,352 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.categorie
2014-01-09 09:19:15,352 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, description, nom]
2014-01-09 09:19:15,352 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-01-09 09:19:15,352 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-01-09 09:19:15,386 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.client
2014-01-09 09:19:15,386 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, prenom, date_creation, email, ref_adresseprincipale, telephone, nom]
2014-01-09 09:19:15,386 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk7877dfeb13afbb1d, fk7877dfeba265ea52]
2014-01-09 09:19:15,386 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, fk7877dfeb13afbb1d, fk7877dfeba265ea52]
2014-01-09 09:19:15,434 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.commande
2014-01-09 09:19:15,435 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [ref_adresselivraison, ref_adressefacturation, datecommande, etatcommande, ref_client, numcommande, fraixport, montanttotal]
2014-01-09 09:19:15,435 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkdff06e9a84f93886, fkdff06e9af43fd0c1, fkdff06e9ac3530139]
2014-01-09 09:19:15,435 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, fkdff06e9a84f93886, fkdff06e9af43fd0c1, fkdff06e9ac3530139]
2014-01-09 09:19:15,486 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.editeur
2014-01-09 09:19:15,486 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, ref_adresseediteur, nom]
2014-01-09 09:19:15,486 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkf2b07f581146b02d]
2014-01-09 09:19:15,487 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fkf2b07f581146b02d, primary]
2014-01-09 09:19:15,527 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.imagelivre
2014-01-09 09:19:15,527 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [nomimage, id, ref_livre, ext]
2014-01-09 09:19:15,527 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk1fc25211200e8315]
2014-01-09 09:19:15,528 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk1fc25211200e8315, primary]
2014-01-09 09:19:15,592 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.lignecommande
2014-01-09 09:19:15,593 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, ref_commande, quantite, ref_isbn]
2014-01-09 09:19:15,593 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk3545833b867951d7, fk3545833b3658ce57]
2014-01-09 09:19:15,593 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk3545833b867951d7, primary, fk3545833b3658ce57]
2014-01-09 09:19:15,656 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.livre
2014-01-09 09:19:15,656 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [prix, ref_categorie, qteenstock, datepublication, numeroisbn, ref_editeur, titre, nombredepages]
2014-01-09 09:19:15,656 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk4607e6cb60421eb, fk4607e6c5f65e9ad]
2014-01-09 09:19:15,656 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk4607e6c5f65e9ad, fk4607e6cb60421eb, primary]
2014-01-09 09:19:15,692 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.user
2014-01-09 09:19:15,692 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, username, password]
2014-01-09 09:19:15,692 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-01-09 09:19:15,692 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-01-09 09:19:15,741 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - table found: jungledb.auteurlivre
2014-01-09 09:19:15,742 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - columns: [numisbn, numaut]
2014-01-09 09:19:15,742 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk2f3378aaea88e2b1, fk2f3378aa86d700f3]
2014-01-09 09:19:15,742 INFO main org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk2f3378aaea88e2b1, fk2f3378aa86d700f3]
2014-01-09 09:19:15,841 ERROR main org.hibernate.tool.hbm2ddl.SchemaUpdate - Unsuccessful: alter table Client add index FK7877DFEB3D936D8 (username), add constraint FK7877DFEB3D936D8 foreign key (username) references User (username)
2014-01-09 09:19:15,841 ERROR main org.hibernate.tool.hbm2ddl.SchemaUpdate - Can't create table 'jungledb.#sql-840_2' (errno: 150)
2014-01-09 09:19:15,842 INFO main org.hibernate.tool.hbm2ddl.SchemaUpdate - schema update complete
2014-01-09 09:19:16,859 INFO Thread-0 org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@331f9cee: startup date [Thu Jan 09 09:19:13 CET 2014]; root of context hierarchy
2014-01-09 09:19:16,860 INFO Thread-0 org.springframework.beans.factory.support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@71ac4afb: defining beans [myDataSource,myEmf,txManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor#0,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,daoClientImpl,daoCommandeImpl,daoLivreImpl,gestionCatalogue,gestionClient,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy
2014-01-09 09:19:16,862 INFO Thread-0 org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'myPersistenceUnit'
2014-01-09 09:19:16,862 INFO Thread-0 org.hibernate.impl.SessionFactoryImpl - closing
